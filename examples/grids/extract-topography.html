
<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Extract Topography &mdash; PVGeo  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=649a27d8" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../_static/style.css?v=34a7ea53" />
      <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery.css?v=61a4c737" />
      <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-binder.css?v=f4aeca0c" />
      <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-dataframe.css?v=2082cf3c" />
      <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
      <link rel="stylesheet" type="text/css" href="../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />

  
    <link rel="canonical" href="http://docs.pvgeo.org/examples/grids/extract-topography.html"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../../_static/doctools.js?v=888ff710"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../../_static/copybutton.js?v=f281be69"></script>
        <script src="../../_static/design-tabs.js?v=36754332"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Read ESRI Grid File" href="read-esri.html" />
    <link rel="prev" title="Grids" href="index.html" />
 

<meta name="description" content="Python package of VTK-based algorithms to analyze geoscientific data and models">
<meta name="author" content="Bane Sullivan">
<meta name="keywords" content="geoscience, geophysics, python, 3D, visualization, plotting, mesh, meshviewer, vtk, open-source">

<!-- this contains PVGeo's Google analytics code - please don't copy/paste our tracking ID -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');


  ga('create', 'UA-115959679-1', 'auto');
  ga('send', 'pageview');

</script>
<!-- This contains our AdSense code - please do not copy -->
<script data-ad-client="ca-pub-1379117569915790" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>


</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            PVGeo
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
    
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Welcome to PVGeo’s code docs!</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../overview/why-pvgeo.html">Why PVGeo?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../overview/getting-started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../overview/featured.html">Featured</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../overview/agu-2018.html">AGU 2018</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Examples</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../about-examples.html">About Examples</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Quick Examples</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../index.html#general-filters">General Filters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#grids">Grids</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#gslib">GSLib</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html#ubc-data-formats">UBC Data Formats</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../filters-general/index.html">General Filters</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">Grids</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">Extract Topography</a></li>
<li class="toctree-l4"><a class="reference internal" href="read-esri.html">Read ESRI Grid File</a></li>
<li class="toctree-l4"><a class="reference internal" href="read-surfer.html">Read Surfer Grid File</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../gslib/index.html">GSLib</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ubc/index.html">UBC Data Formats</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Index:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../content/PVGeo/index.html">About PVGeo</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Development Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../dev-guide/contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev-guide/repo-structure.html">Project Structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev-guide/templates.html">Templates</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev-guide/snippets/index.html">Development Example Snippets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev-guide/resources.html">External References</a></li>
</ul>


    
        <p class="caption">
            <span class="caption-text">
            
                Getting Connected
            
            </span>
        </p>
        <ul>
            
                <li class="toctree-l1"><a href="http://slack.pyvista.org"><i class="fa fa-slack fa-fw"></i> Slack Community</a></li>
            
                <li class="toctree-l1"><a href="https://github.com/pyvista/pyvista-support"><i class="fa fa-comment fa-fw"></i> Support</a></li>
            
                <li class="toctree-l1"><a href="https://github.com/OpenGeoVis/PVGeo"><i class="fa fa-github fa-fw"></i> Source Code</a></li>
            
                <li class="toctree-l1"><a href="https://pvgeo.org/dev-guide/contributing.html"><i class="fa fa-gavel fa-fw"></i> Contributing</a></li>
            
                <li class="toctree-l1"><a href="https://doi.org/10.21105/joss.01451"><i class="fa fa-file-text fa-fw"></i> The Paper</a></li>
            
        </ul>
    

    

    <style>
        div.extra-content {
            display: block !important;
        }
        .extra-content {
            padding: 0.5em;
            margin: 1em 0;
            padding-top: 1em;
            clear: both;
            display: none !important;
            margin-top: 1em;
            border: 0;
            /* background-color: #eee; */
            border: 1px solid #ccc;
            border-radius: 5px;
            color: #0a0a0a;
            font-size: 14px;
            line-height: 20px;
            text-align: center;
        }

        .sidebar-extra-content {
            /* RTD theme doesn't correctly set the sidebar width */
            width: 300px;
            padding: 0 1em;
        }
        .sidebar-extra-content .extra-content {
            /* RTD theme doesn't set sidebar text color */
            color: #b3b3b3;
            font-size: 14px;
            line-height: 20px;
        }

        .internal-content, .adsbygoogle {
            background-color: transparent;
            text-align: center;
        }

    </style>

    <div class="sidebar-extra-content">
        <div class="extra-content">
            <div class="internal-content">
                <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                <ins class="adsbygoogle"
                     style="display:inline-block;width:250px;height:250px"
                     data-ad-client="ca-pub-1379117569915790"
                     data-ad-slot="3375850680"></ins>
                <script>
                     (adsbygoogle = window.adsbygoogle || []).push({});
                </script>
            </div>
            <div>
                We use ads to cover the cost of maintenance for this site and fund beverages for the occasional hackathon (🍺 on us!)
            </div>
        </div>
    </div>




        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">PVGeo</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Quick Examples</a></li>
          <li class="breadcrumb-item"><a href="index.html">Grids</a></li>
      <li class="breadcrumb-item active">Extract Topography</li>

  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference internal" href="#sphx-glr-download-examples-grids-extract-topography-py"><span class="std std-ref">Go to the end</span></a>
to download the full example code</p>
</div>
<section class="sphx-glr-example-title" id="extract-topography">
<span id="sphx-glr-examples-grids-extract-topography-py"></span><h1>Extract Topography<a class="headerlink" href="#extract-topography" title="Link to this heading"></a></h1>
<p>This example will demonstrate how to add a cell data field to an input data
set that defines whether that cell should be active. The activity of the cell
is determined by whether it is beneath and input topography surface.</p>
<p>This filter adds a new cell data field to an input data source defining whether
that cell is beneath some input topography surface.</p>
<p>This example demos <code class="xref py py-class docutils literal notranslate"><span class="pre">PVGeo.grids.ExtractTopography</span></code></p>
<p>We add a cell data field to the input data set as this allows us to use a wide
range of input data types. We also add this data array as it will enable users
to create model discretizations within ParaView for export to external
processing software that need the entire model discretization with an active
cells field.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># sphinx_gallery_thumbnail_number = 6</span>
<span class="kn">import</span> <span class="nn">os</span>

<span class="kn">import</span> <span class="nn">pooch</span>
<span class="kn">import</span> <span class="nn">pyvista</span>

<span class="kn">from</span> <span class="nn">PVGeo.grids</span> <span class="kn">import</span> <span class="n">ExtractTopography</span>
<span class="kn">from</span> <span class="nn">PVGeo.model_build</span> <span class="kn">import</span> <span class="n">CreateTensorMesh</span>
</pre></div>
</div>
<p>For the grid data set, let’s use one of the Model Building sources
with the following parameters:</p>
<ul class="simple">
<li><p>Origin: <code class="docutils literal notranslate"><span class="pre">[793000,</span> <span class="pre">9192500,</span> <span class="pre">2690]</span></code></p></li>
<li><p>X Cells: <code class="docutils literal notranslate"><span class="pre">'1000</span> <span class="pre">500</span> <span class="pre">50*250</span> <span class="pre">500</span> <span class="pre">1000'</span></code></p></li>
<li><p>Y Cells: <code class="docutils literal notranslate"><span class="pre">'1000</span> <span class="pre">500</span> <span class="pre">55*250</span> <span class="pre">500</span> <span class="pre">1000'</span></code></p></li>
<li><p>Z Cells: <code class="docutils literal notranslate"><span class="pre">'30*100.0</span> <span class="pre">5*250.0</span> <span class="pre">500'</span></code></p></li>
</ul>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">mesh</span> <span class="o">=</span> <span class="n">CreateTensorMesh</span><span class="p">(</span>
    <span class="n">origin</span><span class="o">=</span><span class="p">[</span><span class="mi">793000</span><span class="p">,</span> <span class="mi">9192500</span><span class="p">,</span> <span class="mi">2690</span><span class="p">],</span>
    <span class="n">xcellstr</span><span class="o">=</span><span class="s2">&quot;1000 500 50*250 500 1000&quot;</span><span class="p">,</span>
    <span class="n">ycellstr</span><span class="o">=</span><span class="s2">&quot;1000 500 55*250 500 1000&quot;</span><span class="p">,</span>
    <span class="n">zcellstr</span><span class="o">=</span><span class="s2">&quot;30*100.0 5*250.0 500&quot;</span><span class="p">,</span>
<span class="p">)</span><span class="o">.</span><span class="n">apply</span><span class="p">()</span>

<span class="n">mesh</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">show_grid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">show_edges</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-0" name="sd-tab-set-0" type="radio">
</input><label class="sd-tab-label" for="sd-tab-item-0">
Static Scene</label><div class="sd-tab-content docutils">
<img src="../../_images/sphx_glr_extract-topography_001.png" srcset="../../_images/sphx_glr_extract-topography_001.png" alt="extract topography" class = "sphx-glr-single-img"/></div>
<input id="sd-tab-item-1" name="sd-tab-set-0" type="radio">
</input><label class="sd-tab-label" for="sd-tab-item-1">
Interactive Scene</label><div class="sd-tab-content docutils">

    <iframe src='../../_static/static_viewer.html?fileURL=../_images/examples/grids/images/sphx_glr_extract-topography_001.vtksz' width='100%%' height='400px' frameborder='0'></iframe>
</div>
</div>
<p>Now load the topography file from the example data:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://dl.dropbox.com/s/gw5v3tiq68oge3l/Example-Extract-Topo.zip?dl=0&quot;</span>
<span class="n">file_paths</span> <span class="o">=</span> <span class="n">pooch</span><span class="o">.</span><span class="n">retrieve</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span> <span class="n">known_hash</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">processor</span><span class="o">=</span><span class="n">pooch</span><span class="o">.</span><span class="n">Unzip</span><span class="p">())</span>
<span class="n">file_path</span> <span class="o">=</span> <span class="p">[</span><span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">file_paths</span> <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">f</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;topo.vtk&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>

<span class="n">topo</span> <span class="o">=</span> <span class="n">pyvista</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
<span class="n">topo</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<table style='width: 100%;'><tr><th>Header</th><th>Data Arrays</th></tr><tr><td>
<table style='width: 100%;'>
<tr><th>PolyData</th><th>Information</th></tr>
<tr><td>N Cells</td><td>39764</td></tr>
<tr><td>N Points</td><td>20164</td></tr>
<tr><td>N Strips</td><td>0</td></tr>
<tr><td>X Bounds</td><td>7.937e+05, 8.078e+05</td></tr>
<tr><td>Y Bounds</td><td>9.194e+06, 9.208e+06</td></tr>
<tr><td>Z Bounds</td><td>1.182e+03, 2.690e+03</td></tr>
<tr><td>N Arrays</td><td>3</td></tr>
</table>

</td><td>
<table style='width: 100%;'>
<tr><th>Name</th><th>Field</th><th>Type</th><th>N Comp</th><th>Min</th><th>Max</th></tr>
<tr><td><b>elevation</b></td><td>Points</td><td>float64</td><td>1</td><td>1.182e+03</td><td>2.690e+03</td></tr>
<tr><td>column integer</td><td>Points</td><td>float32</td><td>1</td><td>1.000e+00</td><td>1.420e+02</td></tr>
<tr><td>row integer</td><td>Points</td><td>float32</td><td>1</td><td>1.000e+00</td><td>1.420e+02</td></tr>
</table>

</td></tr> </table>
</div>
<br />
<br /><div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="o">=</span> <span class="n">pyvista</span><span class="o">.</span><span class="n">Plotter</span><span class="p">()</span>
<span class="n">p</span><span class="o">.</span><span class="n">add_mesh</span><span class="p">(</span><span class="n">topo</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;terrain&quot;</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">add_mesh</span><span class="p">(</span><span class="n">mesh</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">show_edges</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">opacity</span><span class="o">=</span><span class="mf">0.75</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">show_grid</span><span class="p">()</span>
<span class="n">p</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-2" name="sd-tab-set-1" type="radio">
</input><label class="sd-tab-label" for="sd-tab-item-2">
Static Scene</label><div class="sd-tab-content docutils">
<img src="../../_images/sphx_glr_extract-topography_002.png" srcset="../../_images/sphx_glr_extract-topography_002.png" alt="extract topography" class = "sphx-glr-single-img"/></div>
<input id="sd-tab-item-3" name="sd-tab-set-1" type="radio">
</input><label class="sd-tab-label" for="sd-tab-item-3">
Interactive Scene</label><div class="sd-tab-content docutils">

    <iframe src='../../_static/static_viewer.html?fileURL=../_images/examples/grids/images/sphx_glr_extract-topography_002.vtksz' width='100%%' height='400px' frameborder='0'></iframe>
</div>
</div>
<p>Now that you have the topography and a grid data set,
let’s go ahead and use the <strong>Extract Topography</strong> filter. Be sure to properly
select the inputs to the algorithm.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">extracted</span> <span class="o">=</span> <span class="n">ExtractTopography</span><span class="p">()</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">mesh</span><span class="p">,</span> <span class="n">topo</span><span class="p">)</span>
<span class="n">extracted</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">scalars</span><span class="o">=</span><span class="s2">&quot;Extracted&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-4" name="sd-tab-set-2" type="radio">
</input><label class="sd-tab-label" for="sd-tab-item-4">
Static Scene</label><div class="sd-tab-content docutils">
<img src="../../_images/sphx_glr_extract-topography_003.png" srcset="../../_images/sphx_glr_extract-topography_003.png" alt="extract topography" class = "sphx-glr-single-img"/></div>
<input id="sd-tab-item-5" name="sd-tab-set-2" type="radio">
</input><label class="sd-tab-label" for="sd-tab-item-5">
Interactive Scene</label><div class="sd-tab-content docutils">

    <iframe src='../../_static/static_viewer.html?fileURL=../_images/examples/grids/images/sphx_glr_extract-topography_003.vtksz' width='100%%' height='400px' frameborder='0'></iframe>
</div>
</div>
<p>op=’underneath’, tolerance=0.001, offset=0.0, invert=False, remove=False
This will show the cells that are active underneath the topography surface
(0 for above surface and 1 for below surface). Now we can threshold this gridded
data set to remove parts of the model that are above the topography surface by
applying a <em>Threshold</em> filter to chop out all values below 1.</p>
<p>The resulting grid with cells above the topography extracted will look like the
rendering below:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">threshed</span> <span class="o">=</span> <span class="n">extracted</span><span class="o">.</span><span class="n">threshold</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">scalars</span><span class="o">=</span><span class="s2">&quot;Extracted&quot;</span><span class="p">)</span>
<span class="n">threshed</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">show_edges</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-6" name="sd-tab-set-3" type="radio">
</input><label class="sd-tab-label" for="sd-tab-item-6">
Static Scene</label><div class="sd-tab-content docutils">
<img src="../../_images/sphx_glr_extract-topography_004.png" srcset="../../_images/sphx_glr_extract-topography_004.png" alt="extract topography" class = "sphx-glr-single-img"/></div>
<input id="sd-tab-item-7" name="sd-tab-set-3" type="radio">
</input><label class="sd-tab-label" for="sd-tab-item-7">
Interactive Scene</label><div class="sd-tab-content docutils">

    <iframe src='../../_static/static_viewer.html?fileURL=../_images/examples/grids/images/sphx_glr_extract-topography_004.vtksz' width='100%%' height='400px' frameborder='0'></iframe>
</div>
</div>
<p>How well did this remove cells above the topography surface?</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="o">=</span> <span class="n">pyvista</span><span class="o">.</span><span class="n">Plotter</span><span class="p">()</span>
<span class="n">p</span><span class="o">.</span><span class="n">add_mesh</span><span class="p">(</span><span class="n">topo</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;terrain&quot;</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">add_mesh</span><span class="p">(</span><span class="n">threshed</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">show_edges</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">show_grid</span><span class="p">()</span>
<span class="n">p</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-8" name="sd-tab-set-4" type="radio">
</input><label class="sd-tab-label" for="sd-tab-item-8">
Static Scene</label><div class="sd-tab-content docutils">
<img src="../../_images/sphx_glr_extract-topography_005.png" srcset="../../_images/sphx_glr_extract-topography_005.png" alt="extract topography" class = "sphx-glr-single-img"/></div>
<input id="sd-tab-item-9" name="sd-tab-set-4" type="radio">
</input><label class="sd-tab-label" for="sd-tab-item-9">
Interactive Scene</label><div class="sd-tab-content docutils">

    <iframe src='../../_static/static_viewer.html?fileURL=../_images/examples/grids/images/sphx_glr_extract-topography_005.vtksz' width='100%%' height='400px' frameborder='0'></iframe>
</div>
</div>
<p>Is that extraction too close to the topography surface? To better extract the
topographic surface, you can set a tolerance:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">extracted</span> <span class="o">=</span> <span class="n">ExtractTopography</span><span class="p">(</span><span class="n">tolerance</span><span class="o">=</span><span class="mf">100.0</span><span class="p">,</span> <span class="n">remove</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">mesh</span><span class="p">,</span> <span class="n">topo</span><span class="p">)</span>

<span class="n">p</span> <span class="o">=</span> <span class="n">pyvista</span><span class="o">.</span><span class="n">Plotter</span><span class="p">()</span>
<span class="n">p</span><span class="o">.</span><span class="n">add_mesh</span><span class="p">(</span><span class="n">topo</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;terrain&quot;</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">add_mesh</span><span class="p">(</span><span class="n">extracted</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">show_edges</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">show_grid</span><span class="p">()</span>
<span class="n">p</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-10" name="sd-tab-set-5" type="radio">
</input><label class="sd-tab-label" for="sd-tab-item-10">
Static Scene</label><div class="sd-tab-content docutils">
<img src="../../_images/sphx_glr_extract-topography_006.png" srcset="../../_images/sphx_glr_extract-topography_006.png" alt="extract topography" class = "sphx-glr-single-img"/></div>
<input id="sd-tab-item-11" name="sd-tab-set-5" type="radio">
</input><label class="sd-tab-label" for="sd-tab-item-11">
Interactive Scene</label><div class="sd-tab-content docutils">

    <iframe src='../../_static/static_viewer.html?fileURL=../_images/examples/grids/images/sphx_glr_extract-topography_006.vtksz' width='100%%' height='400px' frameborder='0'></iframe>
</div>
</div>
<p>Note that there are other extraction operations like an <code class="docutils literal notranslate"><span class="pre">'intersection'</span></code>:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">extracted</span> <span class="o">=</span> <span class="n">ExtractTopography</span><span class="p">(</span><span class="n">op</span><span class="o">=</span><span class="s2">&quot;intersection&quot;</span><span class="p">,</span> <span class="n">remove</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">tolerance</span><span class="o">=</span><span class="mf">100.0</span><span class="p">)</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">mesh</span><span class="p">,</span> <span class="n">topo</span><span class="p">)</span>
<span class="n">extracted</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">show_edges</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-12" name="sd-tab-set-6" type="radio">
</input><label class="sd-tab-label" for="sd-tab-item-12">
Static Scene</label><div class="sd-tab-content docutils">
<img src="../../_images/sphx_glr_extract-topography_007.png" srcset="../../_images/sphx_glr_extract-topography_007.png" alt="extract topography" class = "sphx-glr-single-img"/></div>
<input id="sd-tab-item-13" name="sd-tab-set-6" type="radio">
</input><label class="sd-tab-label" for="sd-tab-item-13">
Interactive Scene</label><div class="sd-tab-content docutils">

    <iframe src='../../_static/static_viewer.html?fileURL=../_images/examples/grids/images/sphx_glr_extract-topography_007.vtksz' width='100%%' height='400px' frameborder='0'></iframe>
</div>
</div>
<p class="sphx-glr-timing"><strong>Total running time of the script:</strong> (0 minutes 7.196 seconds)</p>
<div class="sphx-glr-footer sphx-glr-footer-example docutils container" id="sphx-glr-download-examples-grids-extract-topography-py">
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/0363d808a2578ffde4eb0d4b0a755d3d/extract-topography.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">extract-topography.ipynb</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/1197c872ed98ed4d13457d8de9536e05/extract-topography.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">extract-topography.py</span></code></a></p>
</div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.github.io">Gallery generated by Sphinx-Gallery</a></p>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Grids" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="read-esri.html" class="btn btn-neutral float-right" title="Read ESRI Grid File" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p></p>
  </div>

  

 

    <div role="contentinfo">
        © 2018-2020,
        <a href="http://banesullivan.com">Bane Sullivan</a><br />
        <br>
        Except where noted, this work is licensed under a
        <a rel="license" href="https://opensource.org/licenses/BSD-3-Clause">
            BSD 3-Clause License
        </a>
    </div>
    <br>
    <div>
    Built with
        <a href="http://sphinx-doc.org/">Sphinx</a>
        using a
        <a href="https://github.com/snide/sphinx_rtd_theme">theme</a>
        provided by
        <a href="https://readthedocs.org">Read the Docs</a>.
    </div>
    <div role="contentinfo">
        <br>
        This documentation was automatically generated by
        <a href="https://gendocs.readthedocs.io/en/latest/">gendocs</a><br />
    </div>




</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-115959679-6"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-115959679-6', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>